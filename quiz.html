<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Touch Battle Quiz - Dua Pemain</title>
<style>
  body {
    margin: 0;
    font-family: "Segoe UI", sans-serif;
    background: linear-gradient(135deg, #00b4db, #0083b0);
    color: #fff;
    overflow: hidden;
    height: 100vh;
    display: flex;
    flex-direction: row;
  }

  .side {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    border-right: 4px solid rgba(255,255,255,0.2);
    padding: 20px;
  }
  .side:last-child {
    border-right: none;
  }

  h2 {
    font-size: 2rem;
    margin-bottom: 20px;
    text-align: center;
  }

  .question-box {
    background: #ffffff;
    color: #333;
    border-radius: 20px;
    padding: 20px;
    text-align: center;
    width: 80%;
    font-size: 1.5rem;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  }

  .answers {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-top: 25px;
    width: 80%;
  }

  .answers button {
    font-size: 1.3rem;
    padding: 15px;
    border: none;
    border-radius: 15px;
    background: #f8f8f8;
    color: #333;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    transition: 0.2s;
  }

  .answers button.correct {
    background: #4CAF50;
    color: white;
  }
  .answers button.wrong {
    background: #E74C3C;
    color: white;
  }

  .score {
    margin-top: 20px;
    font-size: 1.5rem;
  }

  .back-btn {
    position: absolute;
    top: 15px;
    left: 15px;
    padding: 12px 25px;
    font-size: 1.1rem;
    border: none;
    border-radius: 10px;
    background: white;
    color: #333;
    font-weight: bold;
    cursor: pointer;
  }

  .center-info {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 2rem;
    font-weight: bold;
    text-align: center;
    color: yellow;
    text-shadow: 2px 2px 8px rgba(0,0,0,0.6);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .center-info.show {
    opacity: 1;
  }
</style>
</head>
<body>

  <button class="back-btn" onclick="window.location.href='index.html'">‚¨ÖÔ∏è Kembali</button>
  <div class="center-info" id="center-info"></div>

  <!-- Pemain Kiri -->
  <div class="side" id="left-side">
    <h2>üë© Pemain 1</h2>
    <div class="question-box" id="question-left">Pertanyaan...</div>
    <div class="answers" id="answers-left"></div>
    <div class="score" id="score-left">Skor: 0</div>
  </div>

  <!-- Pemain Kanan -->
  <div class="side" id="right-side">
    <h2>üë® Pemain 2</h2>
    <div class="question-box" id="question-right">Pertanyaan...</div>
    <div class="answers" id="answers-right"></div>
    <div class="score" id="score-right">Skor: 0</div>
  </div>

<script>
  const questions = [
    { q: "Apa ibu kota Indonesia?", options: ["Bandung", "Jakarta", "Surabaya", "Semarang"], answer: 1 },
    { q: "Planet terdekat dengan Matahari?", options: ["Venus", "Merkurius", "Mars", "Bumi"], answer: 1 },
    { q: "Hasil dari 12 √ó 8 adalah ...", options: ["88", "96", "108", "84"], answer: 1 },
    { q: "Simbol kimia air adalah ...", options: ["O2", "H2O", "CO2", "HO"], answer: 1 },
  ];

  let current = 0;
  let scoreLeft = 0;
  let scoreRight = 0;
  let answeredLeft = false;
  let answeredRight = false;
  let firstAnswered = null;
  let waiting = false;

  const qLeft = document.getElementById("question-left");
  const qRight = document.getElementById("question-right");
  const aLeft = document.getElementById("answers-left");
  const aRight = document.getElementById("answers-right");
  const sLeft = document.getElementById("score-left");
  const sRight = document.getElementById("score-right");
  const info = document.getElementById("center-info");

  function showPopup(text) {
    info.textContent = text;
    info.classList.add("show");
    setTimeout(() => info.classList.remove("show"), 1000);
  }

  function showQuestion() {
    const q = questions[current];
    qLeft.textContent = q.q;
    qRight.textContent = q.q;
    aLeft.innerHTML = "";
    aRight.innerHTML = "";
    answeredLeft = false;
    answeredRight = false;
    firstAnswered = null;
    waiting = false;
    info.textContent = "";

    q.options.forEach((opt, i) => {
      const btnL = document.createElement("button");
      const btnR = document.createElement("button");
      btnL.textContent = opt;
      btnR.textContent = opt;
      btnL.onclick = () => playerAnswer("left", i, btnL);
      btnR.onclick = () => playerAnswer("right", i, btnR);
      aLeft.appendChild(btnL);
      aRight.appendChild(btnR);
    });
  }

  function playerAnswer(side, index, btn) {
    const q = questions[current];
    if (waiting) return;

    if (side === "left" && answeredLeft) return;
    if (side === "right" && answeredRight) return;

    if (side === "left") answeredLeft = true;
    else answeredRight = true;

    if (index === q.answer) {
      btn.classList.add("correct");
      if (side === "left") scoreLeft++;
      else scoreRight++;
      showPopup(side === "left" ? "üü¢ Pemain 1 Benar!" : "üü¢ Pemain 2 Benar!");
    } else {
      btn.classList.add("wrong");
    }

    sLeft.textContent = "Skor: " + scoreLeft;
    sRight.textContent = "Skor: " + scoreRight;

    if (!firstAnswered) {
      firstAnswered = side;
      // Jika pemain pertama menjawab benar ‚Üí langsung lanjut
      if (index === q.answer) {
        waiting = true;
        setTimeout(nextQuestion, 1200);
        return;
      }
    }

    // Jika kedua pemain sudah menjawab (benar/salah)
    if (answeredLeft && answeredRight) {
      waiting = true;
      setTimeout(nextQuestion, 1500);
    }
  }

  function nextQuestion() {
    current++;
    if (current < questions.length) {
      showQuestion();
    } else {
      info.textContent = "üèÅ Permainan Selesai!";
      qLeft.textContent = "Skor Akhir: " + scoreLeft;
      qRight.textContent = "Skor Akhir: " + scoreRight;
      aLeft.innerHTML = "";
      aRight.innerHTML = "";
    }
  }

  showQuestion();
</script>
</body>
</html>
